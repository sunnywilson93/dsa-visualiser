---
phase: 11-foundation-mobile-strategy
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/index.css
  - src/components/ReadOnlyCode/ReadOnlyCode.tsx
  - src/components/ReadOnlyCode/ReadOnlyCode.module.css
  - src/components/ReadOnlyCode/index.ts
  - src/app/[categoryId]/[problemId]/PracticePageClient.tsx
  - src/app/[categoryId]/[problemId]/page.module.css
autonomous: true

must_haves:
  truths:
    - "Breakpoint documentation exists in index.css with clear comments for 640px/768px/1024px"
    - "ReadOnlyCode component displays code in read-only format matching project styling"
    - "Monaco Editor hidden below 768px, ReadOnlyCode shown instead"
    - "No JS viewport detection - CSS media queries handle show/hide"
  artifacts:
    - path: "src/index.css"
      provides: "Breakpoint documentation comments"
      contains: "Responsive breakpoints"
    - path: "src/components/ReadOnlyCode/ReadOnlyCode.tsx"
      provides: "Lightweight read-only code display component"
      exports: ["ReadOnlyCode"]
    - path: "src/components/ReadOnlyCode/ReadOnlyCode.module.css"
      provides: "Styling for read-only code display"
      min_lines: 20
    - path: "src/app/[categoryId]/[problemId]/page.module.css"
      provides: "CSS show/hide rules for editor vs read-only"
      contains: ".mobileCode"
  key_links:
    - from: "src/app/[categoryId]/[problemId]/PracticePageClient.tsx"
      to: "src/components/ReadOnlyCode"
      via: "import and render"
      pattern: "import.*ReadOnlyCode"
    - from: "src/app/[categoryId]/[problemId]/page.module.css"
      to: ".desktopEditor/.mobileCode"
      via: "CSS media query show/hide at 768px"
      pattern: "@media.*767px"
---

<objective>
Establish responsive foundations with breakpoint documentation and mobile editor fallback.

Purpose: Phase 11 creates the infrastructure that Phases 12-15 build upon. Standardizing breakpoints and implementing the mobile editor strategy prevents inconsistencies across future responsive work.

Output:
- Breakpoint documentation in index.css (640px/768px/1024px)
- ReadOnlyCode component for mobile code display
- Practice page with CSS-based show/hide for Monaco vs ReadOnlyCode
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-foundation-mobile-strategy/11-RESEARCH.md

@src/index.css
@src/app/[categoryId]/[problemId]/PracticePageClient.tsx
@src/app/[categoryId]/[problemId]/page.module.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add breakpoint documentation to index.css</name>
  <files>src/index.css</files>
  <action>
Add a Responsive Breakpoints section to the :root variables in index.css. This documents the standard breakpoints for the project.

Add after the existing spacing section (around line 110):

```css
/* Responsive breakpoints (documentation only - cannot use in @media) */
/* sm: 640px - Mobile landscape, large phones */
/* md: 768px - Tablets, hide Monaco below this */
/* lg: 1024px - Desktops, full layout */

/* Use these exact values in media queries:
 * @media (max-width: 639px) - mobile only
 * @media (max-width: 767px) - below tablet
 * @media (max-width: 1023px) - below desktop
 * @media (min-width: 640px) - tablet and up
 * @media (min-width: 768px) - tablet and up (tablet+)
 * @media (min-width: 1024px) - desktop and up
 */
```

Note: CSS custom properties cannot be used in media query declarations per CSS spec. Variables serve as documentation only.
  </action>
  <verify>grep -A 10 "Responsive breakpoints" src/index.css shows the documentation comments</verify>
  <done>index.css contains breakpoint documentation with 640px/768px/1024px values and usage guidance</done>
</task>

<task type="auto">
  <name>Task 2: Create ReadOnlyCode component</name>
  <files>
    src/components/ReadOnlyCode/ReadOnlyCode.tsx
    src/components/ReadOnlyCode/ReadOnlyCode.module.css
    src/components/ReadOnlyCode/index.ts
  </files>
  <action>
Create a lightweight ReadOnlyCode component for mobile code display.

**src/components/ReadOnlyCode/index.ts:**
```typescript
export { ReadOnlyCode } from './ReadOnlyCode'
```

**src/components/ReadOnlyCode/ReadOnlyCode.tsx:**
```typescript
'use client'

import styles from './ReadOnlyCode.module.css'

interface ReadOnlyCodeProps {
  code: string
  className?: string
}

export function ReadOnlyCode({ code, className }: ReadOnlyCodeProps) {
  return (
    <div className={`${styles.container} ${className ?? ''}`}>
      <div className={styles.header}>
        <span className={styles.title}>Code</span>
        <span className={styles.badge}>Read Only</span>
      </div>
      <pre className={styles.codeBlock}>
        <code>{code}</code>
      </pre>
    </div>
  )
}
```

**src/components/ReadOnlyCode/ReadOnlyCode.module.css:**
Style to match project's panel styling patterns (use CSS variables from index.css):
- Container: bg-secondary background, border-primary border, radius-lg corners
- Header: bg-tertiary background, border-bottom, uppercase title
- Code block: font-mono, proper padding, horizontal scroll for long lines
- Ensure readable font size (13px) and comfortable line height (1.5)
  </action>
  <verify>
Check files exist:
- ls src/components/ReadOnlyCode/
- cat src/components/ReadOnlyCode/index.ts (exports ReadOnlyCode)
  </verify>
  <done>ReadOnlyCode component exists with proper styling matching project conventions</done>
</task>

<task type="auto">
  <name>Task 3: Wire mobile editor fallback to practice page</name>
  <files>
    src/app/[categoryId]/[problemId]/PracticePageClient.tsx
    src/app/[categoryId]/[problemId]/page.module.css
  </files>
  <action>
Update PracticePageClient.tsx to render both Monaco and ReadOnlyCode, with CSS controlling visibility.

**In PracticePageClient.tsx:**

1. Add import at top:
```typescript
import { ReadOnlyCode } from '@/components/ReadOnlyCode'
```

2. Replace the editorPanel section (around line 106-111) with:
```tsx
<section className={styles.editorPanel}>
  {/* Desktop: Monaco Editor (hidden on mobile via CSS) */}
  <div className={styles.desktopEditor}>
    <CodeEditor
      readOnly
      conceptLink={hasConcept ? `/${categoryId}/${problemId}/concept` : undefined}
    />
  </div>

  {/* Mobile: Simple read-only code (hidden on desktop via CSS) */}
  <div className={styles.mobileCode}>
    <ReadOnlyCode code={problem.code} />
  </div>
</section>
```

**In page.module.css:**

Add these CSS classes and update the mobile media query:

After .editorLoading (around line 136):
```css
/* Desktop editor - hidden on mobile */
.desktopEditor {
  display: block;
  height: 100%;
}

/* Mobile read-only code - hidden on desktop */
.mobileCode {
  display: none;
  height: 100%;
}
```

Update the @media (max-width: 768px) section to add:
```css
.desktopEditor {
  display: none;
}

.mobileCode {
  display: block;
}
```

This uses CSS show/hide (SSR-safe) rather than conditional React rendering.
  </action>
  <verify>
1. npm run build (no errors)
2. grep "ReadOnlyCode" src/app/[categoryId]/[problemId]/PracticePageClient.tsx
3. grep "mobileCode" src/app/[categoryId]/[problemId]/page.module.css
  </verify>
  <done>Practice page shows Monaco on desktop (768px+) and ReadOnlyCode on mobile (below 768px) using CSS-only show/hide</done>
</task>

</tasks>

<verification>
1. npm run build completes without errors
2. npm run lint passes
3. Breakpoint documentation visible in src/index.css
4. ReadOnlyCode component exists and exports correctly
5. Practice page CSS has desktopEditor/mobileCode classes with 768px breakpoint
</verification>

<success_criteria>
- Breakpoint documentation in index.css documents 640px/768px/1024px values
- ReadOnlyCode component renders code with project styling
- PracticePageClient renders both CodeEditor and ReadOnlyCode
- CSS media queries at 768px toggle visibility (Monaco hidden on mobile)
- No JS viewport detection used (pure CSS approach)
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/11-foundation-mobile-strategy/11-01-SUMMARY.md`
</output>
