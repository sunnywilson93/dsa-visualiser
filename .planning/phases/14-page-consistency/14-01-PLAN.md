---
phase: 14-page-consistency
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
  - src/app/concepts/dsa/patterns/[patternId]/page.module.css
  - src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx
autonomous: true

must_haves:
  truths:
    - "DSA pattern pages have NavBar with breadcrumbs (Home > Concepts > DSA > Patterns > [Pattern])"
    - "DSA pattern pages have consistent header with back button, icon, title, complexity badge"
    - "ConceptViz pages use NavBar component instead of custom inline breadcrumbs"
    - "All pages have gradient background matching concept pages"
  artifacts:
    - path: "src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx"
      provides: "Updated pattern page with NavBar, consistent header structure"
      contains: "NavBar"
    - path: "src/app/concepts/dsa/patterns/[patternId]/page.module.css"
      provides: "Updated CSS with .page class and header styling"
      contains: ".page"
    - path: "src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx"
      provides: "Updated concept viz page with NavBar breadcrumbs"
      contains: "NavBar"
  key_links:
    - from: "PatternPageClient.tsx"
      to: "NavBar component"
      via: "import and breadcrumbs prop"
      pattern: "NavBar.*breadcrumbs"
    - from: "PatternPageClient.tsx"
      to: "ConceptIcon component"
      via: "import and render in titleRow"
      pattern: "ConceptIcon.*conceptId"
---

<objective>
Standardize DSA pattern pages and ConceptViz pages to match the header structure and NavBar breadcrumb pattern used by JS concept pages.

Purpose: Consistent navigation and visual hierarchy across all page types for better UX.
Output: Updated PatternPageClient.tsx and ConceptVizPageClient.tsx with NavBar breadcrumbs and consistent headers.
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/14-page-consistency/14-RESEARCH.md

Reference implementations:
@src/app/concepts/[conceptId]/ConceptPageClient.tsx (header pattern)
@src/app/concepts/[conceptId]/page.module.css (CSS pattern)
@src/app/concepts/dsa/[conceptId]/DSAConceptPageClient.tsx (DSA-specific example)
@src/components/NavBar/NavBar.tsx (breadcrumbs interface)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update PatternPageClient with NavBar and consistent header</name>
  <files>
    src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
    src/app/concepts/dsa/patterns/[patternId]/page.module.css
  </files>
  <action>
Update PatternPageClient.tsx:
1. Add imports: NavBar from '@/components/NavBar', ConceptIcon from '@/components/Icons', useRouter from 'next/navigation'
2. Remove Link import (only used for back navigation, will use router.push)
3. Get router instance: const router = useRouter()
4. Wrap content in div with .page class (for gradient background)
5. Add NavBar at top with breadcrumbs:
   ```tsx
   <NavBar
     breadcrumbs={[
       { label: 'Concepts', path: '/concepts' },
       { label: 'DSA', path: '/concepts/dsa' },
       { label: 'Patterns', path: '/concepts/dsa' },
       { label: pattern.name },
     ]}
   />
   ```
6. Update header structure:
   - Replace Link-based backLink with button using styles.backBtn and router.push('/concepts/dsa')
   - Add titleRow div with: ConceptIcon, h1 title, complexity badge (show time complexity)
   - Keep description paragraph
   - Remove inline complexity section (moved to badge in titleRow)

Update page.module.css:
1. Add .page class with gradient background (from concept pages):
   ```css
   .page {
     min-height: 100vh;
     background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 100%);
     display: flex;
     flex-direction: column;
   }
   ```
2. Add .main class for content area
3. Add .backBtn class matching concept pages (button with icon + text)
4. Add .titleRow class for icon + title + badge layout
5. Add .icon class for ConceptIcon wrapper
6. Add .title class for h1 styling (use gradient text matching existing)
7. Add .complexityBadge class for time complexity badge in header
8. Keep existing .section, .sectionTitle, .list, .listItem, etc. styles
9. Update .container to .main and adjust padding to match concept pages
  </action>
  <verify>
    npm run build -- --filter=PatternPageClient 2>&1 | grep -E "(error|Error)" || echo "Build passed"
    Check that pattern page loads with NavBar and gradient background
  </verify>
  <done>
    Pattern pages show NavBar with breadcrumbs, consistent header (icon, title, complexity badge), and gradient background matching concept pages
  </done>
</task>

<task type="auto">
  <name>Task 2: Update ConceptVizPageClient with NavBar breadcrumbs</name>
  <files>
    src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx
  </files>
  <action>
Update ConceptVizPageClient.tsx:
1. Add import: NavBar from '@/components/NavBar'
2. Replace custom inline breadcrumb divs with NavBar component
3. Place NavBar at the top of the page (before header)
4. Build breadcrumbs array dynamically based on category and subcategory:
   ```tsx
   const breadcrumbs = [
     { label: 'DSA', path: `/${categoryId}` },
     ...(subcategoryName ? [{ label: subcategoryName }] : []),
     { label: problem.name },
   ]
   ```
5. Remove the custom breadcrumb div from inside headerLeft
6. Keep the backBtn, problemInfo (with title only, no inline breadcrumbs), and difficulty badge
7. The header structure remains similar but without the inline breadcrumb:
   - backBtn (already uses router.back())
   - problemInfo with just title
   - difficulty badge

Note: The page already has a .page wrapper with var(--bg-primary), which is consistent. NavBar provides the breadcrumb navigation.
  </action>
  <verify>
    npm run build -- --filter=ConceptVizPageClient 2>&1 | grep -E "(error|Error)" || echo "Build passed"
    Check that concept viz page loads with NavBar breadcrumbs
  </verify>
  <done>
    ConceptViz pages show NavBar with breadcrumbs instead of custom inline implementation
  </done>
</task>

</tasks>

<verification>
1. Build succeeds: `npm run build`
2. Pattern pages load with NavBar breadcrumbs visible
3. Pattern pages have gradient background matching concept pages
4. Pattern page headers show: back button, icon, title, complexity badge, description
5. ConceptViz pages load with NavBar breadcrumbs
6. Navigation works correctly from all breadcrumb links
7. Visual consistency between JS concept pages, DSA concept pages, and DSA pattern pages
</verification>

<success_criteria>
- PAGE-01: Pattern pages have consistent header structure (icon, title, badge, description)
- PAGE-02: NavBar breadcrumbs present on PatternPageClient and ConceptVizPageClient
- No TypeScript or build errors
- Breadcrumb navigation works correctly on all page types
</success_criteria>

<output>
After completion, create `.planning/phases/14-page-consistency/14-01-SUMMARY.md`
</output>
