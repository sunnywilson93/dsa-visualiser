---
phase: 07-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01"]
files_modified:
  - src/app/concepts/dsa/patterns/[patternId]/page.tsx
  - src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
  - src/app/concepts/dsa/patterns/[patternId]/page.module.css
autonomous: true

must_haves:
  truths:
    - "User can navigate to /concepts/dsa/patterns/two-pointers and see a pattern page"
    - "User can navigate to /concepts/dsa/patterns/hash-map and see a pattern page"
    - "User can navigate to /concepts/dsa/patterns/bit-manipulation and see a pattern page"
    - "Pattern page displays pattern name, description, whenToUse, and variants"
    - "Invalid pattern IDs show 404 or not found message"
  artifacts:
    - path: "src/app/concepts/dsa/patterns/[patternId]/page.tsx"
      provides: "Server component for pattern page with metadata and static params"
      exports: ["generateMetadata", "generateStaticParams", "default"]
    - path: "src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx"
      provides: "Client component rendering pattern shell with metadata"
      exports: ["default"]
    - path: "src/app/concepts/dsa/patterns/[patternId]/page.module.css"
      provides: "Styles for pattern page shell"
  key_links:
    - from: "page.tsx"
      to: "dsaPatterns.ts"
      via: "getPatternBySlug for metadata and static params"
      pattern: "getPatternBySlug"
    - from: "PatternPageClient.tsx"
      to: "dsaPatterns.ts"
      via: "getPatternBySlug for rendering"
      pattern: "getPatternBySlug"
---

<objective>
Create pattern page routing at /concepts/dsa/patterns/[patternId] with a shell page that displays pattern metadata.

Purpose: Establish the routing and page structure for DSA pattern pages. The shell shows pattern name, description, when to use, and variants. Actual visualizations will be added in Phases 8-10.

Output: Next.js dynamic route with server component (metadata/static params) and client component (rendering), following the exact pattern of /concepts/[conceptId] for JS concepts.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-foundation/07-01-SUMMARY.md
@src/app/concepts/[conceptId]/page.tsx
@src/app/concepts/[conceptId]/ConceptPageClient.tsx
@src/app/concepts/[conceptId]/page.module.css
@src/data/dsaPatterns.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create pattern page server component</name>
  <files>
    src/app/concepts/dsa/patterns/[patternId]/page.tsx
  </files>
  <action>
Create the server component following src/app/concepts/[conceptId]/page.tsx pattern:

**page.tsx:**
```typescript
import type { Metadata } from 'next'
import { getPatternBySlug, dsaPatterns } from '@/data/dsaPatterns'
import PatternPageClient from './PatternPageClient'
import { StructuredData } from '@/components/StructuredData'

interface Props {
  params: { patternId: string }
}

export async function generateMetadata({ params }: Props): Promise<Metadata> {
  const pattern = getPatternBySlug(params.patternId)

  if (!pattern) {
    return {
      title: 'Pattern Not Found | DSA Interview Prep',
    }
  }

  return {
    title: `${pattern.name} Pattern - Algorithm Visualization | DSA Interview Prep`,
    description: `${pattern.description} Learn with interactive step-through visualizations and code examples.`,
    keywords: `${pattern.name.toLowerCase()}, ${pattern.slug} algorithm, dsa pattern, coding interview, leetcode`,
    openGraph: {
      title: `${pattern.name} Pattern - Algorithm Visualization`,
      description: pattern.description,
      url: `https://jsinterview.dev/concepts/dsa/patterns/${pattern.slug}`,
    },
    alternates: {
      canonical: `/concepts/dsa/patterns/${pattern.slug}`,
    },
  }
}

export async function generateStaticParams() {
  return dsaPatterns.map((pattern) => ({
    patternId: pattern.slug,
  }))
}

function generateBreadcrumbSchema(pattern: NonNullable<ReturnType<typeof getPatternBySlug>>) {
  return {
    '@context': 'https://schema.org',
    '@type': 'BreadcrumbList',
    itemListElement: [
      {
        '@type': 'ListItem',
        position: 1,
        name: 'Home',
        item: 'https://jsinterview.dev',
      },
      {
        '@type': 'ListItem',
        position: 2,
        name: 'Concepts',
        item: 'https://jsinterview.dev/concepts',
      },
      {
        '@type': 'ListItem',
        position: 3,
        name: 'DSA Patterns',
        item: 'https://jsinterview.dev/concepts/dsa/patterns',
      },
      {
        '@type': 'ListItem',
        position: 4,
        name: pattern.name,
        item: `https://jsinterview.dev/concepts/dsa/patterns/${pattern.slug}`,
      },
    ],
  }
}

function generateArticleSchema(pattern: NonNullable<ReturnType<typeof getPatternBySlug>>) {
  return {
    '@context': 'https://schema.org',
    '@type': 'Article',
    headline: `${pattern.name} Pattern - Algorithm Visualization`,
    description: pattern.description,
    author: {
      '@type': 'Organization',
      name: 'JS Interview Prep',
    },
    publisher: {
      '@type': 'Organization',
      name: 'JS Interview Prep',
      url: 'https://jsinterview.dev',
    },
    mainEntityOfPage: {
      '@type': 'WebPage',
      '@id': `https://jsinterview.dev/concepts/dsa/patterns/${pattern.slug}`,
    },
    articleSection: 'Algorithm Tutorials',
    keywords: `${pattern.name}, algorithm, DSA, coding interview`,
  }
}

export default function PatternPage({ params }: Props) {
  const pattern = getPatternBySlug(params.patternId)

  if (!pattern) {
    return <PatternPageClient patternId={params.patternId} />
  }

  const breadcrumbSchema = generateBreadcrumbSchema(pattern)
  const articleSchema = generateArticleSchema(pattern)

  return (
    <>
      <StructuredData data={breadcrumbSchema} />
      <StructuredData data={articleSchema} />
      <PatternPageClient patternId={params.patternId} />
    </>
  )
}
```

This follows the exact pattern of the JS concepts page with appropriate metadata and structured data for DSA patterns.
  </action>
  <verify>
    - File exists: `ls src/app/concepts/dsa/patterns/[patternId]/page.tsx`
    - TypeScript compiles: `npx tsc --noEmit`
    - Exports present: `grep -E "generateMetadata|generateStaticParams|export default" src/app/concepts/dsa/patterns/[patternId]/page.tsx`
  </verify>
  <done>
    - page.tsx exports generateMetadata, generateStaticParams, and default component
    - Metadata uses pattern name and description from dsaPatterns.ts
    - Static params generated for all patterns
    - Structured data includes breadcrumbs and article schema
  </done>
</task>

<task type="auto">
  <name>Task 2: Create pattern page client component and styles</name>
  <files>
    src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
    src/app/concepts/dsa/patterns/[patternId]/page.module.css
  </files>
  <action>
Create the client component and styles:

**PatternPageClient.tsx:**
```typescript
'use client'

import { useParams, notFound } from 'next/navigation'
import Link from 'next/link'
import { ArrowLeft, Clock, HardDrive, CheckCircle } from 'lucide-react'
import { getPatternBySlug } from '@/data/dsaPatterns'
import styles from './page.module.css'

interface Props {
  patternId: string
}

export default function PatternPageClient({ patternId }: Props) {
  const pattern = getPatternBySlug(patternId)

  if (!pattern) {
    notFound()
  }

  return (
    <div className={styles.container}>
      <Link href="/concepts" className={styles.backLink}>
        <ArrowLeft size={16} />
        Back to Concepts
      </Link>

      <header className={styles.header}>
        <h1 className={styles.title}>{pattern.name}</h1>
        <p className={styles.description}>{pattern.description}</p>

        <div className={styles.complexity}>
          <span className={styles.complexityItem}>
            <Clock size={14} />
            Time: {pattern.complexity.time}
          </span>
          <span className={styles.complexityItem}>
            <HardDrive size={14} />
            Space: {pattern.complexity.space}
          </span>
        </div>
      </header>

      <section className={styles.section}>
        <h2 className={styles.sectionTitle}>When to Use</h2>
        <ul className={styles.list}>
          {pattern.whenToUse.map((use, index) => (
            <li key={index} className={styles.listItem}>
              <CheckCircle size={14} className={styles.listIcon} />
              {use}
            </li>
          ))}
        </ul>
      </section>

      <section className={styles.section}>
        <h2 className={styles.sectionTitle}>Pattern Variants</h2>
        <div className={styles.variants}>
          {pattern.variants.map((variant) => (
            <div key={variant.id} className={styles.variantCard}>
              <h3 className={styles.variantName}>{variant.name}</h3>
              <p className={styles.variantDescription}>{variant.description}</p>
              <p className={styles.variantUse}>
                <strong>Use for:</strong> {variant.whenToUse}
              </p>
            </div>
          ))}
        </div>
      </section>

      <section className={styles.section}>
        <h2 className={styles.sectionTitle}>Interactive Visualization</h2>
        <div className={styles.vizPlaceholder}>
          <p>Step-through visualization coming soon...</p>
          <p className={styles.vizHint}>
            This will include beginner, intermediate, and advanced examples with code highlighting.
          </p>
        </div>
      </section>
    </div>
  )
}
```

**page.module.css:**
```css
.container {
  max-width: 900px;
  margin: 0 auto;
  padding: 2rem;
}

.backLink {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--text-muted, #888);
  text-decoration: none;
  font-size: 0.875rem;
  margin-bottom: 1.5rem;
  transition: color 0.2s;
}

.backLink:hover {
  color: var(--text-primary, #e5e7eb);
}

.header {
  margin-bottom: 2rem;
}

.title {
  font-size: 2.25rem;
  font-weight: 700;
  margin-bottom: 0.75rem;
  background: linear-gradient(135deg, #667eea, #764ba2);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.description {
  font-size: 1.125rem;
  color: var(--text-secondary, #9ca3af);
  line-height: 1.6;
  margin-bottom: 1rem;
}

.complexity {
  display: flex;
  gap: 1.5rem;
}

.complexityItem {
  display: inline-flex;
  align-items: center;
  gap: 0.375rem;
  font-size: 0.875rem;
  color: var(--text-muted, #888);
  background: rgba(255, 255, 255, 0.05);
  padding: 0.375rem 0.75rem;
  border-radius: 0.375rem;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.section {
  margin-bottom: 2rem;
}

.sectionTitle {
  font-size: 1.25rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: var(--text-primary, #e5e7eb);
}

.list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.listItem {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.5rem 0;
  color: var(--text-secondary, #9ca3af);
}

.listIcon {
  color: #10b981;
  flex-shrink: 0;
  margin-top: 0.125rem;
}

.variants {
  display: grid;
  gap: 1rem;
}

.variantCard {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 0.5rem;
  padding: 1.25rem;
}

.variantName {
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: var(--text-primary, #e5e7eb);
}

.variantDescription {
  font-size: 0.875rem;
  color: var(--text-secondary, #9ca3af);
  margin-bottom: 0.5rem;
  line-height: 1.5;
}

.variantUse {
  font-size: 0.8125rem;
  color: var(--text-muted, #888);
}

.variantUse strong {
  color: var(--text-secondary, #9ca3af);
}

.vizPlaceholder {
  background: rgba(102, 126, 234, 0.1);
  border: 1px dashed rgba(102, 126, 234, 0.3);
  border-radius: 0.5rem;
  padding: 2rem;
  text-align: center;
  color: var(--text-secondary, #9ca3af);
}

.vizHint {
  font-size: 0.875rem;
  color: var(--text-muted, #888);
  margin-top: 0.5rem;
}
```

The styling follows the existing EventLoopViz and concept page patterns with consistent colors, spacing, and dark theme support.
  </action>
  <verify>
    - Files exist: `ls src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx src/app/concepts/dsa/patterns/[patternId]/page.module.css`
    - TypeScript compiles: `npx tsc --noEmit`
    - Imports resolve: `grep "getPatternBySlug" src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx`
  </verify>
  <done>
    - PatternPageClient.tsx renders pattern name, description, complexity, whenToUse, and variants
    - notFound() called for invalid pattern IDs
    - page.module.css provides consistent dark theme styling
    - Placeholder section indicates where visualization will go
  </done>
</task>

<task type="auto">
  <name>Task 3: Verify routing works</name>
  <files></files>
  <action>
Verify the routing works by:

1. Run the dev server: `npm run dev`
2. Navigate to each pattern page and verify they render:
   - /concepts/dsa/patterns/two-pointers
   - /concepts/dsa/patterns/hash-map
   - /concepts/dsa/patterns/bit-manipulation
3. Verify invalid pattern shows not found: /concepts/dsa/patterns/invalid-pattern

Use curl or browser to check pages render without 500 errors.

If dev server is already running, just check the build compiles:
```bash
npm run build 2>&1 | head -50
```

This verifies static params generate correctly and pages build without errors.
  </action>
  <verify>
    - Build succeeds: `npm run build` exits with code 0
    - Or lint passes: `npm run lint`
    - TypeScript passes: `npx tsc --noEmit`
  </verify>
  <done>
    - All three pattern pages build without errors
    - Static params generate correct slugs
    - Navigation to /concepts/dsa/patterns/[patternId] works
  </done>
</task>

</tasks>

<verification>
1. `ls -la src/app/concepts/dsa/patterns/[patternId]/` shows page.tsx, PatternPageClient.tsx, page.module.css
2. `npx tsc --noEmit` passes with no errors
3. `npm run lint` passes (or has only pre-existing warnings)
4. `npm run build` succeeds (verifies static params work)
</verification>

<success_criteria>
- /concepts/dsa/patterns/two-pointers page exists and renders pattern metadata
- /concepts/dsa/patterns/hash-map page exists and renders pattern metadata
- /concepts/dsa/patterns/bit-manipulation page exists and renders pattern metadata
- Invalid pattern IDs trigger Next.js notFound()
- Metadata includes pattern name and description for SEO
- Static params generated for all patterns in dsaPatterns.ts
</success_criteria>

<output>
After completion, create `.planning/phases/07-foundation/07-02-SUMMARY.md`
</output>
