---
phase: 12-seo-standardization
plan: 04
type: execute
wave: 2
depends_on: []
files_modified:
  - src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx
  - src/app/concepts/[conceptId]/opengraph-image.tsx
  - src/app/[categoryId]/opengraph-image.tsx
autonomous: true

must_haves:
  truths:
    - "Pattern pages generate unique OG images with pattern name"
    - "JS concept pages generate unique OG images with concept title"
    - "Category pages generate unique OG images with category name"
    - "OG images are 1200x630 PNG format"
  artifacts:
    - path: "src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx"
      provides: "Dynamic OG image for DSA pattern pages"
      exports: ["default", "alt", "size", "contentType"]
    - path: "src/app/concepts/[conceptId]/opengraph-image.tsx"
      provides: "Dynamic OG image for JS concept pages"
      exports: ["default", "alt", "size", "contentType"]
    - path: "src/app/[categoryId]/opengraph-image.tsx"
      provides: "Dynamic OG image for category pages"
      exports: ["default", "alt", "size", "contentType"]
  key_links:
    - from: "src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx"
      to: "next/og"
      via: "ImageResponse import"
      pattern: "import.*ImageResponse.*from 'next/og'"
---

<objective>
Create dynamic OpenGraph images for pattern, concept, and category pages

Purpose: Generate unique social sharing images that show the page-specific content (pattern name, concept title, category) instead of static fallback.
Output: opengraph-image.tsx files at three route segments using Next.js ImageResponse API.
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/12-seo-standardization/12-RESEARCH.md

# Data sources for dynamic content
@src/data/dsaPatterns.ts
@src/data/concepts.ts
@src/data/examples.ts (exampleCategories)

# Existing pages (for route params)
@src/app/concepts/dsa/patterns/[patternId]/page.tsx
@src/app/concepts/[conceptId]/page.tsx
@src/app/[categoryId]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create OG image for DSA pattern pages</name>
  <files>src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx</files>
  <action>
Create `src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx`:

```typescript
import { ImageResponse } from 'next/og'
import { getPatternBySlug } from '@/data/dsaPatterns'

export const alt = 'DSA Pattern Visualization'
export const size = { width: 1200, height: 630 }
export const contentType = 'image/png'

export default async function Image({
  params,
}: {
  params: Promise<{ patternId: string }>
}) {
  const { patternId } = await params
  const pattern = getPatternBySlug(patternId)

  return new ImageResponse(
    (
      <div
        style={{
          background: 'linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%)',
          width: '100%',
          height: '100%',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          justifyContent: 'center',
          padding: 60,
        }}
      >
        <div
          style={{
            color: '#667eea',
            fontSize: 28,
            fontWeight: 500,
            marginBottom: 16,
          }}
        >
          DSA Pattern
        </div>
        <div
          style={{
            color: 'white',
            fontSize: 72,
            fontWeight: 'bold',
            textAlign: 'center',
            lineHeight: 1.1,
          }}
        >
          {pattern?.name || 'Algorithm Pattern'}
        </div>
        <div
          style={{
            color: '#888',
            fontSize: 24,
            marginTop: 24,
          }}
        >
          JS Interview Prep
        </div>
      </div>
    ),
    { ...size }
  )
}
```

Design notes:
- Dark gradient background matching site theme
- Accent color #667eea (site primary)
- Pattern name is large and centered
- Site branding at bottom
  </action>
  <verify>
```bash
# File exists with required exports
grep -E "export (const|default)" src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx | wc -l  # Should be 4

# Uses ImageResponse
grep "ImageResponse" src/app/concepts/dsa/patterns/[patternId]/opengraph-image.tsx
```
  </verify>
  <done>
- opengraph-image.tsx created at pattern route
- Exports alt, size, contentType, and default function
- Uses ImageResponse from next/og
- Displays pattern name dynamically
  </done>
</task>

<task type="auto">
  <name>Task 2: Create OG image for JS concept pages</name>
  <files>src/app/concepts/[conceptId]/opengraph-image.tsx</files>
  <action>
Create `src/app/concepts/[conceptId]/opengraph-image.tsx`:

```typescript
import { ImageResponse } from 'next/og'
import { getConceptById } from '@/data/concepts'

export const alt = 'JavaScript Concept'
export const size = { width: 1200, height: 630 }
export const contentType = 'image/png'

export default async function Image({
  params,
}: {
  params: Promise<{ conceptId: string }>
}) {
  const { conceptId } = await params
  const concept = getConceptById(conceptId)

  return new ImageResponse(
    (
      <div
        style={{
          background: 'linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%)',
          width: '100%',
          height: '100%',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          justifyContent: 'center',
          padding: 60,
        }}
      >
        <div
          style={{
            color: '#667eea',
            fontSize: 28,
            fontWeight: 500,
            marginBottom: 16,
          }}
        >
          JavaScript Concept
        </div>
        <div
          style={{
            color: 'white',
            fontSize: 64,
            fontWeight: 'bold',
            textAlign: 'center',
            lineHeight: 1.1,
            maxWidth: 900,
          }}
        >
          {concept?.title || 'Concept'}
        </div>
        <div
          style={{
            color: '#888',
            fontSize: 24,
            marginTop: 24,
          }}
        >
          JS Interview Prep
        </div>
      </div>
    ),
    { ...size }
  )
}
```
  </action>
  <verify>
```bash
# File exists with required exports
grep -E "export (const|default)" src/app/concepts/[conceptId]/opengraph-image.tsx | wc -l  # Should be 4

# Uses ImageResponse
grep "ImageResponse" src/app/concepts/[conceptId]/opengraph-image.tsx

# Has alt, size, contentType exports
grep "export const alt" src/app/concepts/[conceptId]/opengraph-image.tsx
grep "export const size" src/app/concepts/[conceptId]/opengraph-image.tsx
grep "export const contentType" src/app/concepts/[conceptId]/opengraph-image.tsx
```
  </verify>
  <done>
- opengraph-image.tsx created at concept route
- Exports alt, size, contentType, and default function
- Uses ImageResponse from next/og
- Displays concept title dynamically
  </done>
</task>

<task type="auto">
  <name>Task 3: Create OG image for category pages</name>
  <files>src/app/[categoryId]/opengraph-image.tsx</files>
  <action>
Create `src/app/[categoryId]/opengraph-image.tsx`:

```typescript
import { ImageResponse } from 'next/og'
import { exampleCategories, getExamplesByCategory } from '@/data/examples'

export const alt = 'JavaScript Practice Problems'
export const size = { width: 1200, height: 630 }
export const contentType = 'image/png'

export default async function Image({
  params,
}: {
  params: Promise<{ categoryId: string }>
}) {
  const { categoryId } = await params
  const category = exampleCategories.find((c) => c.id === categoryId)
  const problemCount = getExamplesByCategory(categoryId).length

  return new ImageResponse(
    (
      <div
        style={{
          background: 'linear-gradient(135deg, #0f0f23 0%, #1a1a2e 100%)',
          width: '100%',
          height: '100%',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          justifyContent: 'center',
          padding: 60,
        }}
      >
        <div
          style={{
            color: '#667eea',
            fontSize: 28,
            fontWeight: 500,
            marginBottom: 16,
          }}
        >
          {problemCount} Coding Problems
        </div>
        <div
          style={{
            color: 'white',
            fontSize: 64,
            fontWeight: 'bold',
            textAlign: 'center',
            lineHeight: 1.1,
            maxWidth: 900,
          }}
        >
          {category?.name || 'Practice Problems'}
        </div>
        <div
          style={{
            color: '#888',
            fontSize: 24,
            marginTop: 24,
          }}
        >
          JS Interview Prep
        </div>
      </div>
    ),
    { ...size }
  )
}
```
  </action>
  <verify>
```bash
# File exists with required exports
grep -E "export (const|default)" src/app/[categoryId]/opengraph-image.tsx | wc -l  # Should be 4

# Uses ImageResponse
grep "ImageResponse" src/app/[categoryId]/opengraph-image.tsx

# Has alt, size, contentType exports
grep "export const alt" src/app/[categoryId]/opengraph-image.tsx
grep "export const size" src/app/[categoryId]/opengraph-image.tsx
grep "export const contentType" src/app/[categoryId]/opengraph-image.tsx

# Build to verify no errors
npm run build 2>&1 | grep -E "(error|Error)" | head -5 || echo "Build OK"
```
  </verify>
  <done>
- opengraph-image.tsx created at category route
- Exports alt, size, contentType, and default function
- Uses ImageResponse from next/og
- Displays category name and problem count dynamically
  </done>
</task>

</tasks>

<verification>
1. Three opengraph-image.tsx files exist at correct route segments
2. All export required constants (alt, size, contentType) and default function
3. Each file independently verified for all 4 exports
4. `npm run build` succeeds
5. Test OG image generation:
   - Visit `/concepts/dsa/patterns/two-pointers` - should show "Two Pointers" in OG
   - Visit `/concepts/closures` - should show "Closures" in OG
   - Visit `/arrays-hashing` - should show category name in OG
6. Validate with social share preview tool
</verification>

<success_criteria>
- Pattern pages: Dynamic OG with pattern name
- JS concept pages: Dynamic OG with concept title
- Category pages: Dynamic OG with category name and problem count
- All images 1200x630 PNG format
- Consistent visual design across all OG images
- Each file independently exports all required constants
</success_criteria>

<output>
After completion, create `.planning/phases/12-seo-standardization/12-04-SUMMARY.md`
</output>
