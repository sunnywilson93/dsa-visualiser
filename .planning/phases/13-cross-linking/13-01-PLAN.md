---
phase: 13-cross-linking
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/CrossLinks/RelatedProblems.tsx
  - src/components/CrossLinks/RelatedProblems.module.css
  - src/components/CrossLinks/RelatedPatterns.tsx
  - src/components/CrossLinks/RelatedPatterns.module.css
  - src/components/CrossLinks/index.ts
  - src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
  - src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx
autonomous: true

must_haves:
  truths:
    - "Pattern pages show 'Practice this Pattern' section with linked problems"
    - "Problem concept pages show 'Learn the Pattern' link to relevant pattern page"
    - "Empty states handled gracefully (no empty sections rendered)"
  artifacts:
    - path: "src/components/CrossLinks/RelatedProblems.tsx"
      provides: "Problem grid for pattern pages"
      exports: ["RelatedProblems"]
    - path: "src/components/CrossLinks/RelatedPatterns.tsx"
      provides: "Pattern CTA link for problem pages"
      exports: ["RelatedPatterns"]
    - path: "src/components/CrossLinks/index.ts"
      provides: "Barrel export for CrossLinks components"
  key_links:
    - from: "src/components/CrossLinks/RelatedProblems.tsx"
      to: "src/utils/getCrossLinks.ts"
      via: "getRelatedProblems import"
      pattern: "getRelatedProblems\\(patternId\\)"
    - from: "src/components/CrossLinks/RelatedPatterns.tsx"
      to: "src/utils/getCrossLinks.ts"
      via: "getRelatedPatterns import"
      pattern: "getRelatedPatterns\\(problemId\\)"
    - from: "PatternPageClient.tsx"
      to: "RelatedProblems"
      via: "import and render"
      pattern: "<RelatedProblems patternId="
---

<objective>
Create RelatedProblems and RelatedPatterns cross-link components and integrate them into pattern and problem pages.

Purpose: Enable bidirectional navigation between pattern pages and problem pages, improving discoverability and SEO internal linking.
Output: Two new components (RelatedProblems, RelatedPatterns) integrated into their respective pages.
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/13-cross-linking/13-RESEARCH.md

@src/utils/getCrossLinks.ts
@src/components/ProblemCard/ProblemCard.module.css
@src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
@src/app/concepts/dsa/patterns/[patternId]/page.module.css
@src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx
@src/app/[categoryId]/[problemId]/concept/page.module.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create RelatedProblems component and integrate into PatternPageClient</name>
  <files>
    src/components/CrossLinks/RelatedProblems.tsx
    src/components/CrossLinks/RelatedProblems.module.css
    src/components/CrossLinks/index.ts
    src/app/concepts/dsa/patterns/[patternId]/PatternPageClient.tsx
  </files>
  <action>
    1. Create CrossLinks directory: `src/components/CrossLinks/`

    2. Create RelatedProblems.tsx:
       - Import `getRelatedProblems` from `@/utils/getCrossLinks`
       - Import `Link` from `next/link`
       - Props: `{ patternId: string }`
       - Call `getRelatedProblems(patternId)` in component body
       - Return `null` early if `problems.length === 0` (no empty sections)
       - Render section with h2 "Practice this Pattern"
       - Map problems to card links using overlay link pattern from ProblemCard

    3. Create RelatedProblems.module.css:
       - Reuse card styling from ProblemCard.module.css (rgba backgrounds, border colors)
       - Use CSS variables for spacing (var(--space-*))
       - Grid layout for cards: 1 column mobile, 2 columns on larger screens
       - Section title styling matching .sectionTitle from PatternPageClient

    4. Create index.ts barrel export:
       ```typescript
       export { RelatedProblems } from './RelatedProblems'
       ```

    5. Modify PatternPageClient.tsx:
       - Import `{ RelatedProblems }` from `@/components/CrossLinks`
       - Add new section AFTER the Interactive Visualization section
       - Pass `patternId` prop: `<RelatedProblems patternId={patternId} />`
  </action>
  <verify>
    1. `npm run build` passes without errors
    2. Visit http://localhost:3000/concepts/dsa/patterns/two-pointers
    3. Scroll to bottom - "Practice this Pattern" section visible with linked problems
    4. Click a problem link - navigates to problem page
    5. Visit http://localhost:3000/concepts/dsa/patterns/hash-map - section shows relevant problems
  </verify>
  <done>
    Pattern pages display "Practice this Pattern" section with clickable problem cards that navigate to problem pages. Section hidden on patterns with no related problems.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create RelatedPatterns component and integrate into ConceptVizPageClient</name>
  <files>
    src/components/CrossLinks/RelatedPatterns.tsx
    src/components/CrossLinks/RelatedPatterns.module.css
    src/components/CrossLinks/index.ts
    src/app/[categoryId]/[problemId]/concept/ConceptVizPageClient.tsx
  </files>
  <action>
    1. Create RelatedPatterns.tsx:
       - Import `getRelatedPatterns` from `@/utils/getCrossLinks`
       - Import `Link` from `next/link`
       - Import `Lightbulb` from `lucide-react`
       - Props: `{ problemId: string }`
       - Call `getRelatedPatterns(problemId)` in component body
       - Return `null` early if `patterns.length === 0`
       - Render section with h3 "Learn the Pattern"
       - Map patterns to CTA-style links with Lightbulb icon
       - Style as prominent link similar to .practiceLink pattern

    2. Create RelatedPatterns.module.css:
       - Section styling with margin-bottom
       - Title styling (font-size: 0.875rem, color: var(--text-muted))
       - Pattern link: flex layout with gap, subtle background, hover state
       - Icon styling (color: var(--accent-blue) or #667eea)
       - Pattern name and description text styling

    3. Update index.ts barrel export:
       ```typescript
       export { RelatedProblems } from './RelatedProblems'
       export { RelatedPatterns } from './RelatedPatterns'
       ```

    4. Modify ConceptVizPageClient.tsx:
       - Import `{ RelatedPatterns }` from `@/components/CrossLinks`
       - Add RelatedPatterns BEFORE the "Practice the Code" link in main section
       - Pass problemId prop: `<RelatedPatterns problemId={problemId} />`
       - Position naturally flows: concept panel -> learn pattern -> practice code
  </action>
  <verify>
    1. `npm run build` passes without errors
    2. Visit http://localhost:3000/arrays-hashing/two-sum/concept
    3. "Learn the Pattern" section visible with link to hash-map pattern
    4. Click pattern link - navigates to /concepts/dsa/patterns/hash-map
    5. Visit a problem without pattern mapping - section not rendered (no empty state)
  </verify>
  <done>
    Problem concept pages display "Learn the Pattern" section with clickable pattern link that navigates to pattern page. Section hidden on problems with no related patterns.
  </done>
</task>

</tasks>

<verification>
1. Build succeeds: `npm run build`
2. Lint passes: `npm run lint`
3. Pattern -> Problem navigation: Two Pointers pattern page shows related problems, clicking navigates correctly
4. Problem -> Pattern navigation: Two Sum concept page shows Hash Map pattern link, clicking navigates correctly
5. Empty state handling: Pages without cross-links don't show empty sections
</verification>

<success_criteria>
- RelatedProblems component renders problem cards on pattern pages
- RelatedPatterns component renders pattern links on problem concept pages
- Both components use getCrossLinks utility for data
- Empty states handled (null returned, no empty sections)
- Navigation works bidirectionally
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/13-cross-linking/13-01-SUMMARY.md`
</output>
