---
phase: 16-config-token-migration
plan: 05
type: execute
wave: 5
depends_on: ["16-04"]
files_modified:
  - src/styles/globals.css
autonomous: true

must_haves:
  truths:
    - "Border radius tokens are in @theme with --radius-* namespace"
    - "Shadow tokens are in @theme with --shadow-* namespace"
    - "Tailwind default radius and shadow values are cleared"
    - "Non-namespaced visual tokens (glow sizes, border widths, transitions) remain in :root"
    - "App builds successfully"
  artifacts:
    - path: "src/styles/globals.css"
      provides: "Radius and shadow tokens in @theme"
      contains: "--radius-*: initial"
  key_links:
    - from: "*.module.css var(--radius-lg)"
      to: "@theme --radius-lg"
      via: "CSS custom property resolution"
      pattern: "var\\(--radius-"
---

<objective>
Visual Token Migration -- Move border radius and shadow tokens from :root into @theme. Keep non-namespaced visual tokens (glow sizes, border widths, transitions) in :root.

Purpose: Radius and shadow tokens map cleanly to Tailwind v4 namespaces (--radius-* for rounded-*, --shadow-* for shadow-*). Glow sizes, border widths, and transitions don't have Tailwind namespaces and stay in :root.
Output: Radius and shadow tokens in @theme, non-namespaced visual tokens in :root.
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/16-config-token-migration/16-RESEARCH.md
@.planning/phases/16-config-token-migration/16-04-SUMMARY.md
@src/styles/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate radius and shadow tokens to @theme</name>
  <files>src/styles/globals.css</files>
  <action>
    In the `@theme` block (after the typography section), add:

    ```css
    /* === Border Radius === */
    --radius-*: initial;
    --radius-none: 0;
    --radius-xs: 2px;
    --radius-sm: 4px;
    --radius-DEFAULT: 5px;
    --radius-md: 6px;
    --radius-lg: 8px;
    --radius-xl: 12px;
    --radius-2xl: 16px;
    --radius-3xl: 20px;
    --radius-4xl: 24px;
    --radius-full: 999px;

    /* === Shadows === */
    --shadow-*: initial;
    --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.3);
    --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
    --shadow-lg: 0 10px 20px rgba(0, 0, 0, 0.5);
    --shadow-xl: 0 4px 12px rgba(0, 0, 0, 0.5);
    ```

    Remove radius and shadow tokens from `:root` in `@layer base`:
    - Remove --radius-none through --radius-full (10 tokens)
    - Remove --shadow-sm through --shadow-xl (4 tokens)

    Keep these in `:root` (NOT in @theme -- no Tailwind namespace):
    - `--glow-xs` through `--glow-2xl` (6 glow size tokens)
    - `--border-width-1` through `--border-width-4` (4 border width tokens)
    - `--transition-fast`, `--transition-normal`, `--transition-slow` (3 transition tokens)

    NOTE: No var() rename needed for radius/shadow tokens -- their names already match Tailwind v4 namespaces (--radius-*, --shadow-*). Only the location changes (from :root to @theme).
  </action>
  <verify>
    - `npm run build` passes with zero errors
    - `grep "\-\-radius-\*: initial" src/styles/globals.css` shows defaults cleared
    - `grep "\-\-shadow-\*: initial" src/styles/globals.css` shows defaults cleared
    - `grep "\-\-radius-lg" src/styles/globals.css` appears in @theme block
    - `grep "\-\-shadow-md" src/styles/globals.css` appears in @theme block
    - `grep "\-\-glow-xs" src/styles/globals.css` still in :root block (not moved)
    - `grep "\-\-border-width-1" src/styles/globals.css` still in :root block
    - `grep "\-\-transition-fast" src/styles/globals.css` still in :root block
    - `npm run lint` passes
  </verify>
  <done>
    - Radius tokens in @theme with --radius-* namespace, defaults cleared
    - Shadow tokens in @theme with --shadow-* namespace, defaults cleared
    - Glow sizes, border widths, transitions remain in :root
    - No var() renames needed (names unchanged)
    - Build passes
  </done>
</task>

</tasks>

<verification>
- `npm run build` passes
- Radius and shadow tokens in @theme with defaults cleared
- Non-namespaced visual tokens (glow, border-width, transition) remain in :root
- No broken var() references
</verification>

<success_criteria>
Radius and shadow tokens in @theme with Tailwind v4 namespaces and defaults cleared. Non-namespaced visual tokens preserved in :root. Build passes with identical visual output.
</success_criteria>

<output>
After completion, create `.planning/phases/16-config-token-migration/16-05-SUMMARY.md`
</output>
