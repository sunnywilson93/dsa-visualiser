---
phase: 08-twopointerviz
plan: 02
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - src/components/DSAPatterns/TwoPointersViz/TwoPointersViz.tsx
autonomous: true

must_haves:
  truths:
    - "User can select intermediate difficulty and see 3 examples"
    - "User can step through Container With Most Water example"
    - "User can step through 3Sum example seeing decision logic"
    - "User can step through Remove Duplicates example with slow/fast pointers"
    - "Same Direction variant tab shows Remove Duplicates example"
  artifacts:
    - path: "src/components/DSAPatterns/TwoPointersViz/TwoPointersViz.tsx"
      provides: "Intermediate examples added to examples object"
      contains: "container-most-water"
  key_links:
    - from: "TwoPointersViz examples.intermediate"
      to: "3 TwoPointerExample objects"
      via: "array entries"
      pattern: "intermediate.*container-most-water.*3sum.*remove-duplicates"
---

<objective>
Add intermediate-level examples to TwoPointersViz covering converging and same-direction variants.

Purpose: Expand the visualization with more challenging examples that demonstrate the pattern's versatility across different problem types.

Output: TwoPointersViz with 3 intermediate examples (Container With Most Water, 3Sum, Remove Duplicates) accessible via intermediate difficulty tab.
</objective>

<context>
@.planning/PROJECT.md
@.planning/phases/08-twopointerviz/08-CONTEXT.md
@.planning/phases/08-twopointerviz/08-01-SUMMARY.md
@src/components/DSAPatterns/TwoPointersViz/TwoPointersViz.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add Container With Most Water example (converging)</name>
  <files>src/components/DSAPatterns/TwoPointersViz/TwoPointersViz.tsx</files>
  <action>
Add to the examples.intermediate array:

**Container With Most Water** (converging variant)
- Problem: Find max water area between two heights
- Array: [1, 8, 6, 2, 5, 4, 8, 3, 7] (heights)
- Full step trace showing:
  - Init: left=0, right=8
  - Compare heights, calculate area
  - Decision: "Is height[left] < height[right]? Yes -> move left pointer right"
  - Track maxArea as we go
  - ~15-18 steps

Step structure example:
```typescript
{
  id: 0,
  codeLine: 0,
  description: 'Initialize pointers at opposite ends. left=0 (height 1), right=8 (height 7).',
  phase: 'init',
  pointers: { left: 0, right: 8 },
  array: [1, 8, 6, 2, 5, 4, 8, 3, 7],
  highlightedCells: [0, 8],
  output: ['maxArea = 0']
}
```

Include decision logic on each comparison step showing WHY we move the shorter side's pointer.

insight: "Moving the shorter side gives a chance for larger area; moving taller side can only decrease or maintain."
  </action>
  <verify>
    - `npm run build` passes
    - Container With Most Water appears in intermediate tab under Converging variant
  </verify>
  <done>Container With Most Water example added with full step trace and decision logic.</done>
</task>

<task type="auto">
  <name>Task 2: Add 3Sum and Remove Duplicates examples</name>
  <files>src/components/DSAPatterns/TwoPointersViz/TwoPointersViz.tsx</files>
  <action>
Add two more examples to examples.intermediate:

**3Sum** (converging variant)
- Problem: Find triplets that sum to zero
- Array: [-1, 0, 1, 2, -1, -4] sorted to [-4, -1, -1, 0, 1, 2]
- Show fixing one element, then using two pointers for remaining two
- ~15-20 steps showing:
  - Fix i=0 (element -4), left=1, right=5
  - Sum calculation and decision
  - Skip duplicates logic
  - Move to next fixed element when pointers meet
- variant: 'converging'

Decision format: "Sum = nums[i] + nums[left] + nums[right] = -4 + -1 + 2 = -3 < 0? Yes -> move left pointer right"

insight: "Fix one element, use two pointers for the other two. Sorting enables O(n^2) instead of O(n^3)."

**Remove Duplicates** (same-direction variant)
- Problem: Remove duplicates from sorted array in-place
- Array: [0, 0, 1, 1, 1, 2, 2, 3, 3, 4]
- Use slow/fast pointer labels (not L/R)
- ~12-15 steps showing:
  - slow=0 (write position), fast=1 (scan position)
  - If nums[fast] != nums[slow], increment slow and copy
  - Fast always advances
- variant: 'same-direction'

Decision format: "Is nums[fast] different from nums[slow]? Yes -> copy nums[fast] to nums[slow+1], increment slow"

insight: "Slow pointer marks the end of unique elements; fast scans ahead finding new values."

Update pointer label logic: when variant is 'same-direction', display "slow"/"fast" instead of "L"/"R".
  </action>
  <verify>
    - `npm run build` passes
    - 3Sum appears in intermediate under Converging variant
    - Remove Duplicates appears in intermediate under Same Direction variant
    - Selecting Same Direction variant shows Remove Duplicates example
  </verify>
  <done>3Sum and Remove Duplicates examples added. Same Direction variant now has content. Total intermediate examples: 3.</done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npm run lint` passes
3. Navigate to /concepts/dsa/patterns/two-pointers
4. Select intermediate difficulty - 3 examples visible
5. Container With Most Water: step through showing area calculations and decision logic
6. 3Sum: step through showing fixed element + two pointer approach
7. Remove Duplicates: step through with slow/fast labels (not L/R)
8. Same Direction variant tab shows Remove Duplicates when selected
</verification>

<success_criteria>
- Intermediate difficulty shows 3 examples
- Container With Most Water has full step trace with decision logic
- 3Sum shows fixing one element + two pointers approach
- Remove Duplicates uses slow/fast pointer labels
- Same Direction variant tab is functional with content
</success_criteria>

<output>
After completion, create `.planning/phases/08-twopointerviz/08-02-SUMMARY.md`
</output>
