---
phase: 10-bitmanipulationviz
plan: 02
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - src/components/DSAPatterns/BitManipulationViz/BitManipulationViz.tsx
autonomous: true
user_setup: []

must_haves:
  truths:
    - "User can step through Single Number XOR example seeing bits cancel out"
    - "User can step through Power of Two bit mask example"
    - "User can step through basic left/right shift example"
    - "Active bits highlight during operations with distinct visual indicator"
    - "Decision panel shows why each bit operation happens"
  artifacts:
    - path: "src/components/DSAPatterns/BitManipulationViz/BitManipulationViz.tsx"
      provides: "Beginner examples for all three variants"
      contains: "xor-tricks.*beginner"
  key_links:
    - from: "BitManipulationViz component"
      to: "beginner examples"
      via: "examples['xor-tricks']['beginner'], examples['bit-masks']['beginner'], examples['shift-operations']['beginner']"
      pattern: "examples\\['xor-tricks'\\]\\['beginner'\\]"
---

<objective>
Add beginner examples for all three bit manipulation variants with step-by-step visualization.

Purpose: Provide foundational examples that teach core bit operations (XOR cancellation, bit checking, shifting).
Output: Three beginner examples covering XOR tricks, bit masks, and shift operations.
</objective>

<execution_context>
@/Users/sunnywilson/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sunnywilson/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/10-bitmanipulationviz/10-RESEARCH.md
@.planning/phases/10-bitmanipulationviz/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add XOR Tricks beginner example (Single Number)</name>
  <files>
    src/components/DSAPatterns/BitManipulationViz/BitManipulationViz.tsx
  </files>
  <action>
Add Single Number example to examples['xor-tricks']['beginner'].

**Example: Single Number**
- Input: [2, 1, 2] - find the number that appears only once
- Key insight: a ^ a = 0, a ^ 0 = a

**Code:**
```javascript
function singleNumber(nums) {
  let result = 0

  for (const num of nums) {
    result = result ^ num
  }

  return result
}
```

**Steps (~10-12 steps, 8-bit width):**
1. Introduction: Explain XOR trick (a ^ a = 0, a ^ 0 = a)
2. Initialize result = 0, show binary 00000000
3. Read num = 2, show binary
4. XOR: 0 ^ 2, highlight bit 1, show result = 2
5. Read num = 1, show binary
6. XOR: 2 ^ 1, highlight bits 0 and 1, show result = 3
7. Read num = 2, show binary
8. XOR: 3 ^ 2, highlight bit 1, show result = 1
9. Done: result = 1, the single number

**Per step structure:**
- id, codeLine, description, phase
- numbers: [{label: 'result', value: N}, {label: 'num', value: M}]
- operator: '^' for XOR operations
- result: computed value
- activeBits: [positions where bits differ or change]
- bitWidth: 8
- decision: {condition: "XOR bit by bit", conditionMet: true, action: "Different bits become 1"}
- output: ["result ^ num = X"]

**Insight:** "XOR cancels paired numbers: a ^ a = 0. After XORing all, only the single number remains."
  </action>
  <verify>
    - examples['xor-tricks']['beginner'] has Single Number example
    - Example has 9+ steps covering full algorithm flow
    - Each XOR step shows operator, activeBits, result
    - Insight string is set
  </verify>
  <done>
    Single Number XOR example complete with step-by-step bit visualization.
  </done>
</task>

<task type="auto">
  <name>Task 2: Add Bit Masks beginner example (Power of Two)</name>
  <files>
    src/components/DSAPatterns/BitManipulationViz/BitManipulationViz.tsx
  </files>
  <action>
Add Power of Two example to examples['bit-masks']['beginner'].

**Example: Power of Two Check**
- Input: Check if n = 8 is power of two
- Key insight: Power of 2 has exactly one bit set. n & (n-1) clears the lowest set bit. If result is 0, n was power of 2.

**Code:**
```javascript
function isPowerOfTwo(n) {
  if (n <= 0) return false

  return (n & (n - 1)) === 0
}
```

**Steps (~8-10 steps, 8-bit width):**
1. Introduction: Explain power of 2 property (single bit set)
2. Check n > 0: 8 > 0, continue
3. Show n = 8 binary: 00001000 (single bit at position 3)
4. Calculate n - 1 = 7 binary: 00000111
5. Show AND operation setup: 8 & 7
6. Apply AND: highlight all bits, show bit-by-bit AND
7. Result: 00000000 = 0
8. Decision: result === 0? Yes, 8 is power of two
9. Done: return true

**Highlight bits during AND:**
- activeBits: all positions where either number has a 1
- Show how the single 1 in 8 and the 1s in 7 don't overlap

**Insight:** "Power of 2 has exactly one 1-bit. n & (n-1) clears the lowest set bit. If result is 0, n was power of 2."
  </action>
  <verify>
    - examples['bit-masks']['beginner'] has Power of Two example
    - Example has 8+ steps
    - AND operation shows clear bit-by-bit evaluation
    - Decision panel shows final comparison result
  </verify>
  <done>
    Power of Two bit mask example complete with AND operation visualization.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add Shift Operations beginner example (Multiply by 2)</name>
  <files>
    src/components/DSAPatterns/BitManipulationViz/BitManipulationViz.tsx
  </files>
  <action>
Add basic shift example to examples['shift-operations']['beginner'].

**Example: Multiply/Divide by 2 Using Shifts**
- Show how << 1 multiplies by 2 and >> 1 divides by 2
- Simple but foundational for understanding bit shifts

**Code:**
```javascript
function multiplyDivide(n) {
  const doubled = n << 1
  const halved = n >> 1

  return { doubled, halved }
}
```

**Steps (~10 steps, 8-bit width):**
1. Introduction: Shifts as multiplication/division by powers of 2
2. n = 5, show binary: 00000101
3. Left shift: 5 << 1
4. Show bits moving left, 0 fills right
5. Result: 00001010 = 10 (5 * 2)
6. Now right shift: 5 >> 1
7. Show bits moving right, leftmost bit fills left (sign extension for >>)
8. Result: 00000010 = 2 (floor(5 / 2))
9. Done: doubled = 10, halved = 2

**Animation hint for shifts:**
- activeBits: all bit positions (since all shift)
- description explains direction of movement
- Show "shifted out" bit falling off edge conceptually

**Insight:** "Left shift << 1 multiplies by 2 (adds zero on right). Right shift >> 1 divides by 2 (drops rightmost bit)."
  </action>
  <verify>
    - examples['shift-operations']['beginner'] has Multiply/Divide example
    - Example shows both left and right shift
    - Each shift step clearly shows bit movement
    - Final result shows computed values
    - npm run build passes
    - npm run lint passes
  </verify>
  <done>
    Shift operations beginner example complete.
    All three variants have beginner examples.
    User can step through any beginner example on the pattern page.
  </done>
</task>

</tasks>

<verification>
- npm run build passes
- npm run lint passes
- Navigate to /concepts/dsa/patterns/bit-manipulation
- XOR Tricks > Beginner shows Single Number example
- Bit Masks > Beginner shows Power of Two example
- Shift Operations > Beginner shows Multiply/Divide example
- Each example can be stepped through with Prev/Next buttons
- Active bits highlight during operations
- Decision panel appears when step has decision
- Code panel highlights current line
</verification>

<success_criteria>
- Three beginner examples exist (one per variant)
- XOR cancellation clearly visible in Single Number
- AND operation clearly shows bit-by-bit evaluation in Power of Two
- Shift operations show bits moving left/right
- All examples have code, steps (8+ each), and insight
- Stepping through examples works correctly
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/10-bitmanipulationviz/10-02-SUMMARY.md`
</output>
